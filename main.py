import logging
import time
from telegram import Update, KeyboardButton, ReplyKeyboardMarkup, InlineKeyboardButton, InlineKeyboardMarkup
from telegram.ext import Application, ContextTypes, MessageHandler, filters, CallbackQueryHandler

logger = logging.getLogger(__name__)
countable = {}
count = {}
count_prez = {}
but_1 = InlineKeyboardButton("–ù–∞–∑–∞–¥", callback_data="–ù–∞–∑–∞–¥")
but_2 = InlineKeyboardButton('–í–ø–µ—Ä—ë–¥', callback_data="–í–ø–µ—Ä—ë–¥")
but_3 = InlineKeyboardButton('–í—ã–π—Ç–∏ –∏–∑ –ø—Ä–µ–∑–µ–Ω—Ç–∞—Ü–∏–∏', callback_data="–í—ã–π—Ç–∏ –∏–∑ –ø—Ä–µ–∑–µ–Ω—Ç–∞—Ü–∏–∏")
keyboard_full = InlineKeyboardMarkup([[but_1, but_2], [but_3]])
keyboard_start = InlineKeyboardMarkup([[but_2], [but_3]])
keyboard_end = InlineKeyboardMarkup([[but_1], [but_3]])
but1 = KeyboardButton('–ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Å–≤–æ–∏ –∑–Ω–∞–Ω–∏—è')
but2 = KeyboardButton('–ü—Ä–µ–∑–µ–Ω—Ç–∞—Ü–∏—è')
keyboard_0 = ReplyKeyboardMarkup([[but1], [but2]], one_time_keyboard=True)
async def echo(update: Update, context: ContextTypes.DEFAULT_TYPE) -> None:
    global count
    global countable
    global count_prez
    if update.callback_query is not None:
        update.callback_query.answer()
        message = update.callback_query.message
        message_text = update.callback_query.data
    else:
        message = update.message
        message_text = message.text
    username = update.effective_user.username
    if(message_text == "/start"):
        count_prez[username] = 0
        count[username] = 0
        countable[username] = 0
        await message.reply_text("–í–∞—Å –ø—Ä–∏–≤–µ—Ç—Å–≤—É–µ—Ç –±–æ—Ç –æ—Ç –∫–æ–º–ø–∞–Ω–∏–∏ –ª—É–∫–æ–π–ª üòÄ",reply_markup=keyboard_0)
    elif(message_text=='–ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Å–≤–æ–∏ –∑–Ω–∞–Ω–∏—è'):
        #but_1 = InlineKeyboardButton("–ù–∞–∑–∞–¥", callback_data="–ù–∞–∑–∞–¥")
        but11 = InlineKeyboardButton('–î–æ–±—ã—á–µ–π –Ω–µ—Ñ—Ç–∏ –∏ –≥–∞–∑–∞',callback_data="–î–æ–±—ã—á–µ–π –Ω–µ—Ñ—Ç–∏ –∏ –≥–∞–∑–∞")
        but22 = InlineKeyboardButton('–ü–æ–∫—É–ø–∫–æ–π –Ω–µ—Ñ—Ç–∏ –∏ –≥–∞–∑–∞',callback_data="–ü–æ–∫—É–ø–∫–æ–π –Ω–µ—Ñ—Ç–∏ –∏ –≥–∞–∑–∞")
        but33 = InlineKeyboardButton('–í–µ–±-–¥–∏–∑–∞–π–Ω–æ–º', callback_data="–í–µ–±-–¥–∏–∑–∞–π–Ω–æ–º")
        keyboard1 = InlineKeyboardMarkup([[but11], [but22], [but33]])
        await message.reply_photo("https://avatars.mds.yandex.net/i?id=04f34f9bb4609414ca491a3130d6b2b9aeedc22e-9083123-images-thumbs&n=13", "1.   –ß–µ–º –∑–∞–Ω–∏–º–∞–µ—Ç—Å—è –∫–æ–º–ø–∞–Ω–∏—è ‚Äú–õ—É–∫–æ–π–ª‚Äù?", reply_markup=keyboard1)
        countable[username] = 1
    elif(countable[username] == 1):
        # check answer
        count[username] = 0
        if message_text == "–î–æ–±—ã—á–µ–π –Ω–µ—Ñ—Ç–∏ –∏ –≥–∞–∑–∞":
            time.sleep(0.5)
            await message.reply_text("–í–µ—Ä–Ω–æüëå")
            time.sleep(0.5)
            count[username]+=1
        else:
            time.sleep(0.5)
            await message.reply_text("–ù–µ–≤–µ—Ä–Ω–æüò¢")
            time.sleep(0.5)
        # new question
        but2_1 = InlineKeyboardButton('–í 10', callback_data='–í 10')
        but2_2 = InlineKeyboardButton('–í 25', callback_data='–í 25')
        but2_3 = InlineKeyboardButton('–í 30', callback_data='–í 30')
        keyboard3 = InlineKeyboardMarkup([[but2_1, but2_2, but2_3]])
        await message.reply_photo("https://static.tildacdn.com/tild3230-3466-4163-a532-326536373531/---.jpg", "2.	–í —Å–∫–æ–ª—å–∫–∏—Ö —Å—Ç—Ä–∞–Ω–∞—Ö –º–∏—Ä–∞ –õ—É–∫–æ–π–ª –∑–∞–Ω–∏–º–∞–µ—Ç—Å—è –¥–æ–±—ã—á–µ–π –∏ —Ä–∞–∑–≤–µ–¥–∫–æ–π?", reply_markup=keyboard3)
        # countable
        countable[username] += 1
    elif (countable[username] == 2):
        # check answer
        if message_text == "–í 30":
            time.sleep(0.5)
            await message.reply_text("–í–µ—Ä–Ω–æüëå")
            time.sleep(0.5)
            count[username] += 1
        else:
            time.sleep(0.5)
            await message.reply_text("–ù–µ–≤–µ—Ä–Ω–æüò¢")
            time.sleep(0.5)
        # new question
        but3_1 = InlineKeyboardButton('19.000', callback_data='19.000')
        but3_2 = InlineKeyboardButton('–ü—Ä–∏–º–µ—Ä–Ω–æ 38.000', callback_data='–ü—Ä–∏–º–µ—Ä–Ω–æ 38.000')
        but3_3 = InlineKeyboardButton('–ü–æ—Ä—è–¥–∫–∞ 30.000', callback_data='–ü–æ—Ä—è–¥–∫–∞ 30.000')
        keyboard4 = InlineKeyboardMarkup([[but3_1], [but3_2], [but3_3]])
        await message.reply_photo(
            "https://enkistroy.ru/800/600/https/elektroportal.ru/wp-content/uploads/2020/09/592132.jpg",
            "3.	–°–∫–æ–ª—å–∫–æ –Ω–µ—Ñ—Ç–µ–¥–æ–±—ã–≤–∞—é—â–∏—Ö —Å–∫–≤–∞–∂–∏–Ω –≤ –∞—Ä—Å–µ–Ω–∞–ª–µ –õ—É–∫–æ–π–ª–∞?", reply_markup=keyboard4)
        # countable
        countable[username] += 1
    elif (countable[username] == 3):
        # check answer
        if message_text == "–ü–æ—Ä—è–¥–∫–∞ 30.000":
            time.sleep(0.5)
            await message.reply_text("–í–µ—Ä–Ω–æüëå")
            time.sleep(0.5)
            count[username] += 1
        else:
            time.sleep(0.5)
            await message.reply_text("–ù–µ–≤–µ—Ä–Ω–æüò¢")
            time.sleep(0.5)
        # new question
        but4_1 = InlineKeyboardButton('–õ–∞–∑–∞—Ä–µ–≤—Å–∫–æ–µ, –£–≥–ª–∏—á, –ö–∏—Ä–∂–∞—á', callback_data='–õ–∞–∑–∞—Ä–µ–≤—Å–∫–æ–µ, –£–≥–ª–∏—á, –ö–∏—Ä–∂–∞—á')
        but4_2 = InlineKeyboardButton('–õ–∞–Ω–≥–µ–ø–∞—Å, –£—Ä–∞–π, –ö–æ–≥–∞–ª—ã–º', callback_data='–õ–∞–Ω–≥–µ–ø–∞—Å, –£—Ä–∞–π, –ö–æ–≥–∞–ª—ã–º')
        but4_3 = InlineKeyboardButton('–õ–∞–±–∏–Ω—Å–∫, –£–ª–µ–π–º–∞, –ö–∞—à–ø–∏—Ä', callback_data='–õ–∞–±–∏–Ω—Å–∫, –£–ª–µ–π–º–∞, –ö–∞—à–ø–∏—Ä')
        keyboard5 = InlineKeyboardMarkup([[but4_1], [but4_2], [but4_3]])
        await message.reply_photo(
            "https://avatars.mds.yandex.net/i?id=79b8b42bd72a1639f030b75c5728b8395d82146b-8979882-images-thumbs&n=13",
            "4.	–û—Ç –ø–µ—Ä–≤—ã—Ö –±—É–∫–≤ –Ω–∞–∑–≤–∞–Ω–∏—è –∫–∞–∫–∏—Ö –≥–æ—Ä–æ–¥–æ–≤ –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç –õ–£–ö –≤ –Ω–∞–∑–≤–∞–Ω–∏–∏ –õ—É–∫–æ–π–ª?", reply_markup=keyboard5)
        # countable
        countable[username] += 1
    elif (countable[username] == 4):
        # check answer
        if message_text == "–õ–∞–Ω–≥–µ–ø–∞—Å, –£—Ä–∞–π, –ö–æ–≥–∞–ª—ã–º":
            time.sleep(0.5)
            await message.reply_text("–í–µ—Ä–Ω–æüëå")
            time.sleep(0.5)
            count[username] += 1
        else:
            time.sleep(0.5)
            await message.reply_text("–ù–µ–≤–µ—Ä–Ω–æüò¢")
            time.sleep(0.5)
        # new question
        but5_1 = InlineKeyboardButton('100.000', callback_data="100.000")
        but5_2 = InlineKeyboardButton('80.000', callback_data="80.000")
        but5_3 = InlineKeyboardButton('160.000', callback_data="160.000")
        keyboard6 = InlineKeyboardMarkup([[but5_1, but5_2, but5_3]])
        await message.reply_photo(
            "https://avatars.mds.yandex.net/i?id=aa041aa39e13f048da442737c1ed59ce45fbfab2-9231384-images-thumbs&n=13",
            "5.	–°–∫–æ–ª—å–∫–æ —á–µ–ª–æ–≤–µ–∫ –≤–∫–ª—é—á–∞–µ—Ç –≤ —Å–µ–±—è —à—Ç–∞—Ç –∫–æ–º–ø–∞–Ω–∏–∏?", reply_markup=keyboard6)
        # countable
        countable[username] += 1
    elif (countable[username] == 5):
        # check answer
        if message_text == "100.000":
            time.sleep(0.5)
            await message.reply_text("–í–µ—Ä–Ω–æüëå")
            time.sleep(0.5)
            count[username] += 1
        else:
            time.sleep(0.5)
            await message.reply_text("–ù–µ–≤–µ—Ä–Ω–æüò¢")
            time.sleep(0.5)
        # new question
        but6_1 = InlineKeyboardButton('56', callback_data='56')
        but6_2 = InlineKeyboardButton('63', callback_data='63')
        but6_3 = InlineKeyboardButton('60', callback_data='60')
        keyboard7 = InlineKeyboardMarkup([[but6_1, but6_2, but6_3]])
        await message.reply_photo(
            "https://sun6-20.userapi.com/Op5R4nZs0l_DeFF1LfoxNT_kt2npAamgwFTGRQ/_RptAzv5uzA.jpg",
            "6.	–í —Å–∫–æ–ª—å–∫–∏—Ö —Ä–µ–≥–∏–æ–Ω–∞—Ö –†–æ—Å—Å–∏–∏ –õ—É–∫–æ–π–ª –≤–µ–¥—ë—Ç —Ä–∞–±–æ—Ç—É?", reply_markup=keyboard7)
        # countable
        countable[username] += 1
    elif (countable[username] == 6):
        # check answer
        if message_text == "63":
            time.sleep(0.5)
            await message.reply_text("–í–µ—Ä–Ω–æüëå")
            time.sleep(0.5)
            count[username] += 1
        else:
            time.sleep(0.5)
            await message.reply_text("–ù–µ–≤–µ—Ä–Ω–æüò¢")
            time.sleep(0.5)
        # new question
        but7_1 = InlineKeyboardButton('15%', callback_data='15%')
        but7_2 = InlineKeyboardButton('30%', callback_data='30%')
        but7_3 = InlineKeyboardButton('20%', callback_data='20%')
        keyboard8 = InlineKeyboardMarkup([[but7_1, but7_2, but7_3]])
        await message.reply_photo(
            "https://avatars.mds.yandex.net/i?id=295f0d7fe567217b717077f99052e38eb7d65e03-9123766-images-thumbs&n=13",
            "7.	–°–∫–æ–ª—å–∫–æ –ø—Ä–æ—Ü–µ–Ω—Ç–æ–≤ –±–∏—Ç—É–º–æ–≤ –≤ –†–æ—Å—Å–∏–∏ –≤—ã–ø—É—Å–∫–∞–µ—Ç –õ—É–∫–æ–π–ª?", reply_markup=keyboard8)
        # countable
        countable[username] += 1
    elif (countable[username] == 7):
        # check answer
        if message_text == "20%":
            time.sleep(0.5)
            await message.reply_text("–í–µ—Ä–Ω–æüëå")
            time.sleep(0.5)
            count[username] += 1
        else:
            time.sleep(0.5)
            await message.reply_text("–ù–µ–≤–µ—Ä–Ω–æüò¢")
            time.sleep(0.5)
        # new question
        but8_1 = InlineKeyboardButton('10 –º–ª—Ä–¥', callback_data='10 –º–ª—Ä–¥')
        but8_2 = InlineKeyboardButton('28 –º–ª—Ä–¥', callback_data='28 –º–ª—Ä–¥')
        but8_3 = InlineKeyboardButton('–ë–æ–ª–µ–µ 35 –º–ª—Ä–¥', callback_data='–ë–æ–ª–µ–µ 35 –º–ª—Ä–¥')
        keyboard9 = InlineKeyboardMarkup([[but8_1, but8_2, but8_3]])
        await message.reply_photo(
            "https://avatars.mds.yandex.net/i?id=193fdf7098be194421c7d713f78663a11a6cf30b-9042494-images-thumbs&n=13",
            "8.	–°–∫–æ–ª—å–∫–æ –¥–µ–Ω–µ–≥ –≤ 2019 –≥–æ–¥—É –ö–æ–º–ø–∞–Ω–∏—è –Ω–∞–ø—Ä–∞–≤–∏–ª–∞ –Ω–∞ –æ—Ö—Ä–∞–Ω—É –æ–∫—Ä—É–∂–∞—é—â–µ–π —Å—Ä–µ–¥—ã?", reply_markup=keyboard9)
        # countable
        countable[username] += 1
    elif (countable[username] == 8):
        # check answer
        if message_text == "–ë–æ–ª–µ–µ 35 –º–ª—Ä–¥":
            time.sleep(0.5)
            await message.reply_text("–í–µ—Ä–Ω–æüëå")
            time.sleep(0.5)
            count[username] += 1
        else:
            time.sleep(0.5)
            await message.reply_text("–ù–µ–≤–µ—Ä–Ω–æüò¢")
            time.sleep(0.5)
        # new question
        but9_1 = InlineKeyboardButton('–ë–æ–ª–µ–µ 90 –º–ª–Ω —Ç–æ–Ω–Ω', callback_data='–ë–æ–ª–µ–µ 90 –º–ª–Ω —Ç–æ–Ω–Ω')
        but9_2 = InlineKeyboardButton('65 –º–ª–Ω —Ç–æ–Ω–Ω', callback_data='65 –º–ª–Ω —Ç–æ–Ω–Ω')
        but9_3 = InlineKeyboardButton('–ü–æ—Ä—è–¥–∫–∞ 80 –º–ª–Ω —Ç–æ–Ω–Ω', callback_data='–ü–æ—Ä—è–¥–∫–∞ 80 –º–ª–Ω —Ç–æ–Ω–Ω')
        keyboard10 = InlineKeyboardMarkup([[but9_1], [but9_2], [but9_3]])
        await message.reply_photo(
            "https://avatars.mds.yandex.net/i?id=79b8b42bd72a1639f030b75c5728b8395d82146b-8979882-images-thumbs&n=13",
            "9.	–°–∫–æ–ª—å–∫–æ —Å–æ—Å—Ç–∞–≤–ª—è–µ—Ç –µ–∂–µ–≥–æ–¥–Ω–∞—è –¥–æ–±—ã—á–∞ –Ω–µ—Ñ—Ç–∏ –∏ –≥–∞–∑–æ–≤–æ–≥–æ –∫–æ–Ω–¥–µ–Ω—Å–∞—Ç–∞ –õ–£–ö–û–ô–õ–∞ ", reply_markup=keyboard10)
        # countable
        countable[username] += 1
    elif (countable[username] == 9):
        # check answer
        if message_text == "–ü–æ—Ä—è–¥–∫–∞ 80 –º–ª–Ω —Ç–æ–Ω–Ω":
            time.sleep(0.5)
            await message.reply_text("–í–µ—Ä–Ω–æüëå")
            time.sleep(0.5)
            count[username] += 1
        else:
            time.sleep(0.5)
            await message.reply_text("–ù–µ–≤–µ—Ä–Ω–æüò¢")
            time.sleep(0.5)
        # new question
        but10_1 = InlineKeyboardButton('8', callback_data='8')
        but11_2 = InlineKeyboardButton('10', callback_data='10')
        but12_3 = InlineKeyboardButton('15', callback_data='15')
        keyboard11 = InlineKeyboardMarkup([[but10_1, but11_2, but12_3]])
        await message.reply_photo(
            "https://im.kommersant.ru/ISSUES.PHOTO/WEEKLY/2016/046/vzdr.png",
            "10.	–°–∫–æ–ª—å–∫–æ –º–µ—Å—Ç–æ—Ä–æ–∂–¥–µ–Ω–∏–π –õ—É–∫–æ–π–ª –æ—Ç–∫—Ä—ã–ª –≤ —Ä–æ—Å—Å–∏–π—Å–∫–æ–º —Å–µ–∫—Ç–æ—Ä–µ –ö–∞—Å–ø–∏–π—Å–∫–æ–≥–æ –º–æ—Ä—è?", reply_markup=keyboard11)
        # countable
        countable[username] += 1
    elif (countable[username] == 10):
        # check answer
        if message_text == "10":
            time.sleep(0.5)
            await message.reply_text("–í–µ—Ä–Ω–æüëå")
            time.sleep(0.5)
            count[username] += 1
        else:
            time.sleep(0.5)
            await message.reply_text("–ù–µ–≤–µ—Ä–Ω–æüò¢")
            time.sleep(0.5)
        But1 = KeyboardButton('–ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Å–≤–æ–∏ –∑–Ω–∞–Ω–∏—è')
        But2 = KeyboardButton('–ü—Ä–µ–∑–µ–Ω—Ç–∞—Ü–∏—è')
        keyboardAg = ReplyKeyboardMarkup([[But1], [But2]])
        await message.reply_text("–í—ã –ø—Ä–æ—à–ª–∏ —Ç–µ—Å—Ç!", reply_markup=keyboardAg)
        await message.reply_photo(
            "https://fikiwiki.com/uploads/posts/2022-02/1644725019_24-fikiwiki-com-p-yunost-krasivie-kartinki-28.jpg",
            "")
        await message.reply_text("–ò–¥—ë—Ç –ø–æ–¥—Å—á—ë—Ç –ø—Ä–∞–≤–∏–ª—å–Ω—ã—Ö –æ—Ç–≤–µ—Ç–æ–≤ü§î")
        time.sleep(2)
        if(count[username]>=8):
            await message.reply_text("–ü–æ–∑–¥—Ä–∞–≤–ª—è—é —É –≤–∞—Å "+str(count[username])+" –±–∞–ª–ª–æ–≤")
            await message.reply_text("–ó–∞ —Ç–∞–∫–æ–π —Ö–æ—Ä–æ—à–∏–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç –≤–∞–º –ø–æ–ª–æ–∂–µ–Ω–∞ –Ω–∞–≥—Ä–∞–¥–∞)‚ù§")
            time.sleep(2)
            await message.reply_text("http://t.me/addstickers/lukoil_stickers_by_fStikBot")
            await message.reply_text("–≠—Ç–æ —Å—Å—ã–ª–∫–∞ –Ω–∞ –Ω–∞—à —Å—Ç–∏–∫–µ—Ä –ø–∞–∫üòç")
        else:
            await message.reply_text("–ü–æ–∑–¥—Ä–∞–≤–ª—è—é —É –≤–∞—Å " + str(count[username]) + " –±–∞–ª–ª–æ–≤")
            await message.reply_text("–£ –≤–∞—Å –Ω–µ –ø–æ–ª—É—á–∏–ª–æ—Å—å –Ω–∞–±—Ä–∞—Ç—å –Ω—É–∂–Ω–æ–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –±–∞–ª–ª–æ–≤(üò≠")
            time.sleep(1)
            await message.reply_text("–ü–æ–ø—Ä–æ–±—É–π—Ç–µ —Å–Ω–æ–≤–∞")
        countable[username] = -1
        count[username] = 0
    elif(message_text == "–ü—Ä–µ–∑–µ–Ω—Ç–∞—Ü–∏—è"):
        await message.reply_photo(
            "https://ibb.co/JqjWQnN",
            "",
            reply_markup=keyboard_start)
        count_prez[username] = 1
    elif (count_prez[username] == 1):
        if(message_text == "–í–ø–µ—Ä—ë–¥"):
            count_prez[username] += 1
            await message.reply_photo(
                "https://ibb.co/bHn466s",
                "",
                reply_markup=keyboard_full)
        elif(message_text == "–í—ã–π—Ç–∏ –∏–∑ –ø—Ä–µ–∑–µ–Ω—Ç–∞—Ü–∏–∏"):
            await message.reply_text("–í—ã –≤—ã—à–ª–∏ –∏–∑ –ø—Ä–µ–∑–µ–Ω—Ç–∞—Ü–∏–∏", reply_markup=keyboard_0)
        else:
            await message.reply_text("–¢–∞–∫–æ–≥–æ –≤–∞—Ä–∏–∞–Ω—Ç–∞ –Ω–µ —Å—É—â–µ—Å—Ç–≤—É–µ—ÇüòØ")


    elif (count_prez[username] == 2):
        if (message_text == "–í–ø–µ—Ä—ë–¥"):
            await message.reply_photo(
                "https://ibb.co/x1pJ9xq",
                "",
                reply_markup=keyboard_full)
            count_prez[username] += 1
        elif (message_text == "–ù–∞–∑–∞–¥"):
            await message.reply_photo(
                "https://ibb.co/JqjWQnN",
                "",
                reply_markup=keyboard_start)
            count_prez[username] -= 1
        elif (message_text == "–í—ã–π—Ç–∏ –∏–∑ –ø—Ä–µ–∑–µ–Ω—Ç–∞—Ü–∏–∏"):
            await message.reply_text("–í—ã –≤—ã—à–ª–∏ –∏–∑ –ø—Ä–µ–∑–µ–Ω—Ç–∞—Ü–∏–∏", reply_markup=keyboard_0)
        else:
            await message.reply_text("–¢–∞–∫–æ–≥–æ –≤–∞—Ä–∏–∞–Ω—Ç–∞ –Ω–µ —Å—É—â–µ—Å—Ç–≤—É–µ—ÇüòØ")
    elif (count_prez[username] == 3):
        if (message_text == "–í–ø–µ—Ä—ë–¥"):
            count_prez[username] += 1
            await message.reply_photo(
                "https://ibb.co/JxDQ3fs",
                "",
                reply_markup=keyboard_full)
        elif (message_text == "–ù–∞–∑–∞–¥"):
            count_prez[username] -= 1
            await message.reply_photo(
                "https://ibb.co/bHn466s",
                "",
                reply_markup=keyboard_full)
        elif (message_text == "–í—ã–π—Ç–∏ –∏–∑ –ø—Ä–µ–∑–µ–Ω—Ç–∞—Ü–∏–∏"):
            await message.reply_text("–í—ã –≤—ã—à–ª–∏ –∏–∑ –ø—Ä–µ–∑–µ–Ω—Ç–∞—Ü–∏–∏", reply_markup=keyboard_0)
        else:
            await message.reply_text("–¢–∞–∫–æ–≥–æ –≤–∞—Ä–∏–∞–Ω—Ç–∞ –Ω–µ —Å—É—â–µ—Å—Ç–≤—É–µ—ÇüòØ")
    elif (count_prez[username] == 4):
        if (message_text == "–í–ø–µ—Ä—ë–¥"):
            count_prez[username] += 1
            await message.reply_photo(
                "https://ibb.co/tHCGQkf",
                "",
                reply_markup=keyboard_full)
        elif (message_text == "–ù–∞–∑–∞–¥"):
            count_prez[username] -= 1
            await message.reply_photo(
                "https://ibb.co/x1pJ9xq",
                "",
                reply_markup=keyboard_full)
        elif (message_text == "–í—ã–π—Ç–∏ –∏–∑ –ø—Ä–µ–∑–µ–Ω—Ç–∞—Ü–∏–∏"):
            await message.reply_text("–í—ã –≤—ã—à–ª–∏ –∏–∑ –ø—Ä–µ–∑–µ–Ω—Ç–∞—Ü–∏–∏", reply_markup=keyboard_0)
        else:
            await message.reply_text("–¢–∞–∫–æ–≥–æ –≤–∞—Ä–∏–∞–Ω—Ç–∞ –Ω–µ —Å—É—â–µ—Å—Ç–≤—É–µ—ÇüòØ")
    elif (count_prez[username] == 5):
        if (message_text == "–í–ø–µ—Ä—ë–¥"):
            count_prez[username] += 1
            await message.reply_photo(
                "https://ibb.co/wrkz9Hb",
                "",
                reply_markup=keyboard_full)
        elif (message_text == "–ù–∞–∑–∞–¥"):
            count_prez[username] -= 1
            await message.reply_photo(
                "https://ibb.co/JxDQ3fs",
                "",
                reply_markup=keyboard_full)

        elif (message_text == "–í—ã–π—Ç–∏ –∏–∑ –ø—Ä–µ–∑–µ–Ω—Ç–∞—Ü–∏–∏"):
            await message.reply_text("–í—ã –≤—ã—à–ª–∏ –∏–∑ –ø—Ä–µ–∑–µ–Ω—Ç–∞—Ü–∏–∏", reply_markup=keyboard_0)
        else:
            await message.reply_text("–¢–∞–∫–æ–≥–æ –≤–∞—Ä–∏–∞–Ω—Ç–∞ –Ω–µ —Å—É—â–µ—Å—Ç–≤—É–µ—ÇüòØ")
    elif (count_prez[username] == 6):
        if (message_text == "–í–ø–µ—Ä—ë–¥"):
            count_prez[username] += 1
            await message.reply_photo(
                "https://ibb.co/cQ1wY4V",
                "",
                reply_markup=keyboard_full)
        elif (message_text == "–ù–∞–∑–∞–¥"):
            count_prez[username] -= 1
            await message.reply_photo(
                "https://ibb.co/tHCGQkf",
                "",
                reply_markup=keyboard_full)
        elif (message_text == "–í—ã–π—Ç–∏ –∏–∑ –ø—Ä–µ–∑–µ–Ω—Ç–∞—Ü–∏–∏"):
            await message.reply_text("–í—ã –≤—ã—à–ª–∏ –∏–∑ –ø—Ä–µ–∑–µ–Ω—Ç–∞—Ü–∏–∏", reply_markup=keyboard_0)
        else:
            await message.reply_text("–¢–∞–∫–æ–≥–æ –≤–∞—Ä–∏–∞–Ω—Ç–∞ –Ω–µ —Å—É—â–µ—Å—Ç–≤—É–µ—ÇüòØ")
    elif (count_prez[username] == 7):
        if (message_text == "–í–ø–µ—Ä—ë–¥"):
            count_prez[username] += 1
            await message.reply_photo(
                "https://ibb.co/WxLb87F",
                "",
                reply_markup=keyboard_full)
        elif (message_text == "–ù–∞–∑–∞–¥"):
            count_prez[username] -= 1
            await message.reply_photo(
                "https://ibb.co/wrkz9Hb",
                "",
                reply_markup=keyboard_full)
        elif (message_text == "–í—ã–π—Ç–∏ –∏–∑ –ø—Ä–µ–∑–µ–Ω—Ç–∞—Ü–∏–∏"):
            await message.reply_text("–í—ã –≤—ã—à–ª–∏ –∏–∑ –ø—Ä–µ–∑–µ–Ω—Ç–∞—Ü–∏–∏", reply_markup=keyboard_0)
        else:
            await message.reply_text("–¢–∞–∫–æ–≥–æ –≤–∞—Ä–∏–∞–Ω—Ç–∞ –Ω–µ —Å—É—â–µ—Å—Ç–≤—É–µ—ÇüòØ")
    elif (count_prez[username] == 8):
        if (message_text == "–í–ø–µ—Ä—ë–¥"):
            count_prez[username] += 1
            await message.reply_photo(
                "https://ibb.co/bBP0KF6",
                "",
                reply_markup=keyboard_full)
        elif (message_text == "–ù–∞–∑–∞–¥"):
            count_prez[username] -= 1
            await message.reply_photo(
                "https://ibb.co/cQ1wY4V",
                "",
                reply_markup=keyboard_full)
        elif (message_text == "–í—ã–π—Ç–∏ –∏–∑ –ø—Ä–µ–∑–µ–Ω—Ç–∞—Ü–∏–∏"):
            await message.reply_text("–í—ã –≤—ã—à–ª–∏ –∏–∑ –ø—Ä–µ–∑–µ–Ω—Ç–∞—Ü–∏–∏", reply_markup=keyboard_0)
        else:
            await message.reply_text("–¢–∞–∫–æ–≥–æ –≤–∞—Ä–∏–∞–Ω—Ç–∞ –Ω–µ —Å—É—â–µ—Å—Ç–≤—É–µ—ÇüòØ")
    elif (count_prez[username] == 9):
        if (message_text == "–í–ø–µ—Ä—ë–¥"):
            count_prez[username] += 1
            await message.reply_photo(
                "https://ibb.co/64gLQNP",
                "",
                reply_markup=keyboard_full)
        elif (message_text == "–ù–∞–∑–∞–¥"):
            count_prez[username] -= 1
            await message.reply_photo(
                "https://ibb.co/WxLb87F",
                "",
                reply_markup=keyboard_full)
        elif (message_text == "–í—ã–π—Ç–∏ –∏–∑ –ø—Ä–µ–∑–µ–Ω—Ç–∞—Ü–∏–∏"):
            await message.reply_text("–í—ã –≤—ã—à–ª–∏ –∏–∑ –ø—Ä–µ–∑–µ–Ω—Ç–∞—Ü–∏–∏", reply_markup=keyboard_0)
        else:
            await message.reply_text("–¢–∞–∫–æ–≥–æ –≤–∞—Ä–∏–∞–Ω—Ç–∞ –Ω–µ —Å—É—â–µ—Å—Ç–≤—É–µ—ÇüòØ")
    elif (count_prez[username] == 10):
        if (message_text == "–í–ø–µ—Ä—ë–¥"):
            count_prez[username] += 1
            await message.reply_photo(
                "https://ibb.co/wcw5M0X",
                "",
                reply_markup=keyboard_full)
        elif (message_text == "–ù–∞–∑–∞–¥"):
            count_prez[username] -= 1
            await message.reply_photo(
                "https://ibb.co/bBP0KF6",
                "",
                reply_markup=keyboard_full)
        elif (message_text == "–í—ã–π—Ç–∏ –∏–∑ –ø—Ä–µ–∑–µ–Ω—Ç–∞—Ü–∏–∏"):
            await message.reply_text("–í—ã –≤—ã—à–ª–∏ –∏–∑ –ø—Ä–µ–∑–µ–Ω—Ç–∞—Ü–∏–∏", reply_markup=keyboard_0)
        else:
            await message.reply_text("–¢–∞–∫–æ–≥–æ –≤–∞—Ä–∏–∞–Ω—Ç–∞ –Ω–µ —Å—É—â–µ—Å—Ç–≤—É–µ—ÇüòØ")
    elif (count_prez[username] == 11):
        if (message_text == "–í–ø–µ—Ä—ë–¥"):
            count_prez[username] += 1
            await message.reply_photo(
                "https://ibb.co/LnJk684",
                "",
                reply_markup=keyboard_end)
        elif (message_text == "–ù–∞–∑–∞–¥"):
            count_prez[username] -= 1
            await message.reply_photo(
                "https://ibb.co/64gLQNP",
                "",
                reply_markup=keyboard_full)
        elif (message_text == "–í—ã–π—Ç–∏ –∏–∑ –ø—Ä–µ–∑–µ–Ω—Ç–∞—Ü–∏–∏"):
            await message.reply_text("–í—ã –≤—ã—à–ª–∏ –∏–∑ –ø—Ä–µ–∑–µ–Ω—Ç–∞—Ü–∏–∏", reply_markup=keyboard_0)
        else:
            await message.reply_text("–¢–∞–∫–æ–≥–æ –≤–∞—Ä–∏–∞–Ω—Ç–∞ –Ω–µ —Å—É—â–µ—Å—Ç–≤—É–µ—ÇüòØ")
    elif (count_prez[username] == 12):
        if (message_text == "–ù–∞–∑–∞–¥"):
            count_prez[username] -= 1
            await message.reply_photo(
                "https://ibb.co/wcw5M0X",
                "",
                reply_markup=keyboard_full)
        elif (message_text == "–í—ã–π—Ç–∏ –∏–∑ –ø—Ä–µ–∑–µ–Ω—Ç–∞—Ü–∏–∏"):
            await message.reply_text("–í—ã –≤—ã—à–ª–∏ –∏–∑ –ø—Ä–µ–∑–µ–Ω—Ç–∞—Ü–∏–∏", reply_markup=keyboard_0)
        else:
            await message.reply_text("–¢–∞–∫–æ–≥–æ –≤–∞—Ä–∏–∞–Ω—Ç–∞ –Ω–µ —Å—É—â–µ—Å—Ç–≤—É–µ—ÇüòØ")





    '''if(message == '–í 30' and countable == 1):
        await message.reply_text("–í–µ—Ä–Ω–æ")
        count += 1
        countable += 1
    else:
        await message.reply_text("–ù–µ–≤–µ—Ä–Ω–æ")
        countable += 1
    but3_1 = KeyboardButton('19.000')
    but3_2 = KeyboardButton('–ü—Ä–∏–º–µ—Ä–Ω–æ 38.000')
    but3_3 = KeyboardButton('–ü–æ—Ä—è–¥–∫–∞ 30.000')
    keyboard4 = ReplyKeyboardMarkup([[but3_1], [but3_2], [but3_3]])
    await message.reply_photo("https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcRpeGrn047P2tXQo4lvL8x0WC0TKph2-mWhxK9gziE&s","3.	–°–∫–æ–ª—å–∫–æ –Ω–µ—Ñ—Ç–µ–¥–æ–±—ã–≤–∞—é—â–∏—Ö —Å–∫–≤–∞–∂–∏–Ω –≤ –∞—Ä—Å–µ–Ω–∞–ª–µ –õ—É–∫–æ–π–ª–∞?", reply_markup=keyboard4)
    if(message == '–ü–æ—Ä—è–¥–∫–∞ 30.000' and countable == 2):
        await message.reply_text("–í–µ—Ä–Ω–æ")
        count += 1
        countable += 1
    else:
        await message.reply_text("–ù–µ–≤–µ—Ä–Ω–æ")
        countable += 1
    but4_1 = KeyboardButton('–õ–∞–∑–∞—Ä–µ–≤—Å–∫–æ–µ, –£–≥–ª–∏—á, –ö–∏—Ä–∂–∞—á')
    but4_2 = KeyboardButton('–õ–∞–Ω–≥–µ–ø–∞—Å, –£—Ä–∞–π, –ö–æ–≥–∞–ª—ã–º')
    but4_3 = KeyboardButton('–õ–∞–±–∏–Ω—Å–∫, –£–ª–µ–π–º–∞, –ö–∞—à–ø–∏—Ä')
    keyboard5 = ReplyKeyboardMarkup([[but4_1], [but4_2], [but4_3]])
    await message.reply_photo("https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcRpeGrn047P2tXQo4lvL8x0WC0TKph2-mWhxK9gziE&s", "4.	–û—Ç –ø–µ—Ä–≤—ã—Ö –±—É–∫–≤ –Ω–∞–∑–≤–∞–Ω–∏—è –∫–∞–∫–∏—Ö –≥–æ—Ä–æ–¥–æ–≤ –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç –õ–£–ö –≤ –Ω–∞–∑–≤–∞–Ω–∏–∏ –õ—É–∫–æ–π–ª? ", reply_markup=keyboard5)
    if (message == '–õ–∞–Ω–≥–µ–ø–∞—Å, –£—Ä–∞–π, –ö–æ–≥–∞–ª—ã–º' and countable == 3):
        await message.reply_text("–í–µ—Ä–Ω–æ")
        count += 1
        countable += 1
    else:
        await message.reply_text("–ù–µ–≤–µ—Ä–Ω–æ")
        countable += 1'''
    #await message.reply_text(message)
    #await message.reply_photo("https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcRpeGrn047P2tXQo4lvL8x0WC0TKph2-mWhxK9gziE&s", "–î–∞—Ä–æ—É —Å—Ç–∞—Ä—ã–π!")
    #await message.reply_photo("https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcRFLYH79n5BowDE27E0gnHoJA1PA29dqCeBlDQYaFo&s","–ù–µ –ø–æ–Ω–∏–º–∞—Ç—å(")


def main() -> None:
    application = Application.builder().token("<PASTE_YOUR_TELEGRAM_TOKEN_HERE>").build()
    application.add_handler(MessageHandler(filters.TEXT | filters.COMMAND, echo))
    application.add_handler(CallbackQueryHandler(echo))
    application.run_polling()


if __name__ == "__main__":
    main()